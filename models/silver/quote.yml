
version: 2

models:
  - name: quote
    config:
      contract:
        enforced: true
    columns:
      # PRIMARY KEY
      - name: quote_id
        data_type: varchar
        tests: [not_null, unique]

      # FOREIGN KEYS
      - name: opportunity_id
        data_type: varchar
      - name: account_id
        data_type: varchar
      - name: owner_user_id
        data_type: varchar
      - name: pricebook2_id
        data_type: varchar

      # DETAILS
      - name: status
        data_type: varchar
      - name: quote_number
        data_type: varchar
      - name: name
        data_type: varchar
      - name: expiration_date
        data_type: date

      # BILLING ADDRESS
      - name: billing_street
        data_type: varchar
      - name: billing_city
        data_type: varchar
      - name: billing_state
        data_type: varchar
      - name: billing_postal_code
        data_type: varchar
      - name: billing_country
        data_type: varchar

      # SHIPPING ADDRESS
      - name: shipping_street
        data_type: varchar
      - name: shipping_city
        data_type: varchar
      - name: shipping_state
        data_type: varchar
      - name: shipping_postal_code
        data_type: varchar
      - name: shipping_country
        data_type: varchar

      # AMOUNTS
      - name: total_amount
        data_type: number
      - name: subtotal
        data_type: number
      - name: discount
        data_type: number
      - name: grand_total
        data_type: number

      # AUDIT DATES
      - name: created_date
        data_type: timestamp_ntz
      - name: last_modified_date
        data_type: timestamp_ntz

      # LOAD DATE
      - name: silver_load_date
        data_type: timestamp_ntz
